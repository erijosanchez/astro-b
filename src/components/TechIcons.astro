---
const icons = [
    { icon: "fa-brands fa-html5", angle: 0 },
    { icon: "fa-brands fa-css3-alt", angle: 51.4 },
    { icon: "fa-brands fa-js", angle: 102.8 },
    { icon: "fa-brands fa-react", angle: 154.2 },
];
---

<div class="profile-container">
    <img
        class="profile-image"
        src="assets/2pofe.jpg"
        alt="Profile Image"
    />
    {
        icons.map((icon) => (
            <div class="icon" style={`--angle: ${icon.angle}deg;`}>
                <i class={icon.icon} />
            </div>
        ))
    }
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const profileContainer = document.querySelector(".profile-container");
        let isAnimating = false;

        profileContainer.addEventListener("click", function () {
            if (isAnimating) return;
            isAnimating = true;

            const icons = document.querySelectorAll(".icon");
            icons.forEach((icon) => {
                icon.style.animation = "scatterAnimation 2s ease-in-out";
            });

            setTimeout(() => {
                icons.forEach((icon) => {
                    icon.style.animation = "orbitAnimation 15s linear infinite";
                });
                isAnimating = false;
            }, 2000);
        });
    });
</script>

<style>
    .profile-container {
        position: relative;
        width: 300px;
        height: 300px;
        cursor: pointer;
    }

    .profile-image {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
    }

    .icon {
        position: absolute;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transition: all 0.5s ease-in-out;
        color: white;
        font-size: 20px;
        animation: orbitAnimation 15s linear infinite;
    }

    @keyframes orbitAnimation {
        from {
            transform: rotate(var(--angle)) translateX(100px)
                rotate(calc(-1 * var(--angle)));
        }
        to {
            transform: rotate(calc(var(--angle) + 360deg)) translateX(100px)
                rotate(calc(-1 * (var(--angle) + 360deg)));
        }
    }

    @keyframes scatterAnimation {
        0% {
            transform: rotate(var(--angle)) translateX(100px)
                rotate(calc(-1 * var(--angle)));
        }
        50% {
            transform: rotate(calc(var(--angle) + 180deg)) translateX(200px)
                rotate(calc(-1 * (var(--angle) + 180deg)));
        }
        100% {
            transform: rotate(calc(var(--angle) + 360deg)) translateX(100px)
                rotate(calc(-1 * (var(--angle) + 360deg)));
        }
    }
</style>

<!-- In your layout, add Font Awesome -->
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
